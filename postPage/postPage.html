<!doctype html>
<html lang="en">


<head>
    <title>Post - RentShack</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Mobland - Mobile App Landing Page Template">
    <meta name="keywords" content="HTML5, bootstrap, mobile, app, landing, ios, android, responsive">
	<link rel="icon" type="image/png" href="../images/palmtreefavi.png">

    <!-- Font -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css?family=Rubik:300,400,500" rel="stylesheet">


    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- Themify Icons -->
    <link rel="stylesheet" href="css/themify-icons.css">
    <!-- Owl carousel -->
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <!-- Main css -->
    <link href="css/style.css" rel="stylesheet">
    <link href="../css/nav.css" rel="stylesheet">
	<link href="css/nprogress.css" rel="stylesheet" /> <!--FOR LOADING PROCESS BAR-->

	
	<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script> <!--FOR LOADING PROCESS BAR-->
	<script src="js/nprogress.js"></script> <!--FOR LOADING PROCESS BAR-->
	
    <link href="css/main.css"rel="stylesheet">
    <link href="css/util.css" rel="stylesheet">


	
	
	<!--FIREBASECODE-->	
	
<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-messaging.js"></script>

<!-- Leave out Storage -->
<!-- <script src="https://www.gstatic.com/firebasejs/4.9.0/firebase-storage.js"></script> -->


<script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBApfToTzoqqENAUZkaoe75ArPH6OEqbgM",
    authDomain: "rentshack-d2f8f.firebaseapp.com",
    databaseURL: "https://rentshack-d2f8f.firebaseio.com",
    projectId: "rentshack-d2f8f",
    storageBucket: "rentshack-d2f8f.appspot.com",
    messagingSenderId: "474356914191"
  };
  firebase.initializeApp(config);
</script>
		
<!--FIREBASECODE	
-->	
	<script>
		//console.log('hello world');
	
	function initApp() {
      // Listening for auth state changes.
      // [START authstatelistener]
      firebase.auth().onAuthStateChanged(function(user) {
	  	if (user) {
          // User is signed in.
         // var displayName = user.username;
		  var displayName = user.displayName;
          var email = user.email;
          var emailVerified = user.emailVerified;
          var photoURL = user.photoURL;
          var isAnonymous = user.isAnonymous;
          var uid = user.uid;
          var providerData = user.providerData;
						
		  return firebase.database().ref('/users/' + uid).once('value').then(function(snapshot) {
  			var username = (snapshot.val() && snapshot.val().username) || 'Anonymous';
  			console.log(uid);
			console.log(username);
			console.log(email);
		  });			
		}
	  });
	}
	window.onload = function() {
      initApp();
    };	
	
	</script>
	
</head>

<body data-spy="scroll" data-target="#navbar" data-offset="30">

    <!-- Nav Menu -->
<div id="gallery">
    <div class="nav-menu fixed-top">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <nav class="navbar navbar-light bg-company navbar-expand-lg">
                        <a class="navbar-brand" href="../homePage/homePage.html"><img src="../images/rentshack logo.png" id="logo" class="img-fluid" alt="logo"></a>


                       <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>

                        <div class="collapse navbar-collapse" id="navbar">
                            <ul class="navbar-nav ml-auto">
                                <li class="nav-item"> <a class="nav-link" href="#gallery" href="../postPage/postPage.html">Post</a></li>
                                <li class="nav-item"> <a class="nav-link" href="../messagePage/messagePage.html">Message</a> </li>
                                <li class="nav-item"> <a class="nav-link" href="../profilePage/profilePage.html">Account</a> </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    <header class="bg-gradient" id="home">
    </header>
  

<!-- ===================Post Form===================== -->
	<div class="bg-contact2">
		<div class="container-contact2">
			<span class="contact2-form-title">
						Rent out your item
					</span>
			<div class="wrap-contact2">	
				
				<form class="contact2-form validate-form" id="messageForm" action="#">
				

					<div class="wrap-input2 validate-input" data-validate="Name is required">
						<input class="input2" type="text" id="titlePost">
						<span class="focus-input2" data-placeholder="TITLE OF ITEM"></span>
					</div>

					<div class="wrap-input2 validate-input" data-validate = "Valid email is required: ex@abc.xyz">
						<div class="input-icon">
							<p id="dollar-sign">$</p>
							<input class="input2" type="text" id="pricePerHour" >
							<span class="focus-input2" data-placeholder="PRICE PER HOUR"></span>

						</div>
					</div>
					<div class="wrap-input2 validate-input" data-validate = "Message is required">
						<textarea class="input2" id="itemDescription" name="message"></textarea>
						<span class="focus-input2" data-placeholder="DESCRIBE YOUR ITEM"></span>
					</div>
					
					<div class="mdl-card__supporting-text mdl-color-text--grey-600" id="messagesDiv">
						<input type="file" id="file" name="file"/>
						<h6>File URL:</h6>
						<span id="linkbox"></span>
						
						<div style="display: none" id="alertMessage" class="alert alert-success" role="alert">
							<strong>Success!</strong> Your file has been uploaded!
						</div>
         			
					</div>
				
				  

					<div class="container-contact2-form-btn">
						<div class="wrap-contact2-form-btn">
							<div class="contact2-form-bgbtn"></div>
							<button class="contact2-form-btn" type="submit">
								Post Your Item
							</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div> 
	
	
	
<!-- ===================Contact===================== -->
    <div class="light-bg py-5" >
        <div class="container">
            <div class="row">
                <div class="col-lg-6 text-center text-lg-left">
                    <p class="mb-2"> <span class="ti-location-pin mr-2"></span> UCSB, CA</p>
                    <div class=" d-block d-sm-inline-block">
                        <p class="mb-2">
                            <span class="ti-email mr-2"></span> <a class="mr-4" href="">conrad@mobileapp.com</a>
                        </p>
                    </div>
                    <div class="d-block d-sm-inline-block">
                        <p class="mb-0">
                            <span class="ti-headphone-alt mr-2"></span> <a href="tel:51836362800">666-666-6666</a>
                        </p>
                    </div>

                </div>
                <div class="col-lg-6">
                    <div class="social-icons">
                        <a href="#"><span class="ti-facebook"></span></a>
                        <a href="#"><span class="ti-twitter-alt"></span></a>
                        <a href="#"><span class="ti-instagram"></span></a>
                    </div>
                </div>
            </div>

        </div>

    </div>
    <!-- // end .section -->
    <footer class="my-5 text-center">
        <!-- Copyright removal is not prohibited! -->
        <p class="mb-2"><small></small></p>

        <small>
            <a href="#" class="m-2">PRESS</a>
            <a href="#" class="m-2">TERMS</a>
            <a href="#" class="m-2">PRIVACY</a>
        </small>
    </footer>

</div>

    <!-- jQuery and Bootstrap -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <!-- Plugins JS -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- Custom JS -->
    <script src="js/script.js"></script>
    <script src="js/custom-file-input.js"></script>

	<!--	SCRIPT FOR LOADING BAR   -->
	  <script>
    $('body').show();
    $('.version').text(NProgress.version);
    NProgress.start();
    setTimeout(function() { NProgress.done(); $('.fade').removeClass('out'); }, 300); <!-- CHANGE NUMBER TO ADJUST SPEED -->

    $("#b-0").click(function() { NProgress.start(); });
    $("#b-40").click(function() { NProgress.set(0.4); });
    $("#b-inc").click(function() { NProgress.inc(); });
    $("#b-100").click(function() { NProgress.done(); });
  </script>
	<!--	SCRIPT FOR LOADING BAR   -->
	
	  <script>
    var auth = firebase.auth();
    var storageRef = firebase.storage().ref();

    function handleFileSelect(evt) {
      evt.stopPropagation();
      evt.preventDefault();
      var file = evt.target.files[0];

      var metadata = {
        'contentType': file.type
      };

      // Push to child path.
      // [START oncomplete]
      storageRef.child('images/' + file.name).put(file, metadata).then(function(snapshot) {
        console.log('Uploaded', snapshot.totalBytes, 'bytes.');
        console.log(snapshot.metadata);
        var url = snapshot.downloadURL;
		  setURL(url);
        console.log('File available at', url);
        // [START_EXCLUDE]
		  fileUploadedAlert();
        document.getElementById('linkbox').innerHTML = '<a  href="' +  url + '" target="_blank">Click For File</a>';
        // [END_EXCLUDE]
      }).catch(function(error) {
        // [START onfailure]
        console.error('Upload failed:', error);
        // [END onfailure]
      });
      // [END oncomplete]
    }

	function fileUploadedAlert() {
    var x = document.getElementById("alertMessage");
    if (x.style.display === "none") {
        x.style.display = "block";

    } else {
        x.style.display = "none";
    }
}

    window.onload = function() {
		/*var x = document.getElementById("alertMessage");
		x.style.display = "none";*/
      document.getElementById('file').addEventListener('change', handleFileSelect, false);
      document.getElementById('file').disabled = true;

      auth.onAuthStateChanged(function(user) {
        if (user) {
          console.log('Anonymous user signed-in.', user);
          document.getElementById('file').disabled = false;
        } else {
          console.log('There was no anonymous session. Creating a new anonymous user.');
          // Sign the user in anonymously since accessing Storage requires the user to be authorized.
          //auth.signInAnonymously();
        }
      });
    }
  </script>

<script src="js/main.js"></script>
<script src="js/form-main.js"></script>
	
	
	
</body>

</html>
